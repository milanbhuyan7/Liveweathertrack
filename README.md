# Weather Backend - Render Deployment

This Django backend is configured for deployment on Render.

## Deployment Steps

### 1. Push to GitHub
Make sure your code is pushed to a GitHub repository.

### 2. Connect to Render
1. Go to [render.com](https://render.com) and sign up/login
2. Click "New +" and select "Web Service"
3. Connect your GitHub repository
4. Select the repository containing this backend

### 3. Configure the Service
- **Name**: `weather-backend` (or your preferred name)
- **Environment**: `Python 3`
- **Build Command**: `./build.sh`
- **Start Command**: `gunicorn weather_backend.wsgi:application`
- **Plan**: Free (or your preferred plan)

### 4. Environment Variables
Set these environment variables in Render:
- `SECRET_KEY`: Will be auto-generated by Render
- `DATABASE_URL`: Will be auto-populated from the database service
- `DEBUG`: Set to `false` for production
- `ALLOWED_HOSTS`: Set to `.onrender.com` (or your domain)
- `OPENWEATHER_API_KEY`: Your OpenWeatherMap API key

### 5. Create Database
1. In Render dashboard, click "New +" and select "PostgreSQL"
2. Name it `weather-db`
3. Choose your plan (Free tier available)
4. The `DATABASE_URL` will be automatically connected

### 6. Deploy
Click "Create Web Service" and wait for the build to complete.

## Local Development

To run locally:
```bash
cd backend
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver
```

## Environment Variables for Local Development
Create a `.env` file in the backend directory:
```env
DEBUG=True
SECRET_KEY=your-secret-key
DATABASE_URL=your-database-url
OPENWEATHER_API_KEY=your-api-key
```

## Notes
- The `build.sh` script handles dependencies, static files, and migrations
- WhiteNoise is configured for static file serving
- Security settings are automatically enabled in production
- CORS is configured for your frontend domain
